
- [概要](#概要)
	- [背景](#背景)
- [使い方](#使い方)
- [バグ報告と要望について](#バグ報告と要望について)
- [付録](#付録)
	- [機能比較](#機能比較)


# 概要

本機能拡張はファイル保存ダイアログを利用した `git mv` 機能を提供します。
`git mv` によりオリジナルファイルへの参照を失ったエディタのタブは開き直されます。

## 背景

VSCode 標準で提供されている `Git: Rename` を使って `git mv` 相当のリネームを行った場合、すでに開いているエディタの開き直しが自動で行われるのが利点です。しかしリネーム時はディレクトリ名の補完は効かず、新たなディレクトリの作成も出来無いのでファイルの移動に向いているとは言えません。

一方、ターミナルから `git mv` を実行する場合は補完が効くので移動先のディレクトリ名を間違える可能性は低くなりますが、VSCode 上にオリジナルのファイルを失ったエディタが残ってしまいます。また `git mv` でも新たなディレクトリの作成は出来ないので事前に `mkdir` する必要があります。

この拡張機能はこれらの問題を解決するためにファイル保存ダイアログを通じて `git mv` を実行できるようにしたものです。

ファイル保存ダイアログなのでそこから新規フォルダを作ることもできますし、異なる階層のディレクトリへの移動も間違えることは無いでしょう。

そして `git mv` によって移動されたファイルをすべて開き直すので、リネーム前のエディタを誤って編集・保存し、古いファイルが保存されてしまう事故も防ぎます。


# 使い方

1. `git mv` したいエディタをアクティブにする
2. コマンドパレットで `git mv` とタイプしサジェストされる `git mv: with file save dialog` を選ぶ
3. ファイル保存ダイアログで保存先をファイル名を決定する


# バグ報告と要望について

この拡張機能に関するバグの報告や要望がある場合は、GitHub の [Issue ページ](https://github.com/tettekete/vscode-git-mv-with-save-dialog-extension/issues)を通じてご連絡ください。


# 付録
## 機能比較


|              | `git mv`<br/>(CLI) | `Git: Rename`<br/>(VSCode) | `git mv: with save dialog`<br/>(this extension) |
| ------------ | :------: | :-----------: | :-----------------------: |
| エディタの更新     |    ❌️    |       ✅       |             ✅             |
| ディレクトリ作成     |    ❌️    |      ❌️        |             ✅             |
| ディレクトリを跨いだ移動 |    ✅[^1]     |    ⚠️[^2]     |             ✅             |

[^1]: CLI に慣れているならば他のコマンドと変わらない
[^2]: 補完が効かないので使いづらい

